<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title></title>
  <style>
    body{
        /* background:silver */
        color: #333;
    }
    .picture{
        max-width: 100%;
    }
    .picture img{
        max-width: 100%;
    }

    #dataurl{
        width: 100%;
        box-sizing: border-box;
        padding:6px;
        resize: vertical;
        min-height: min-content;
    }
  </style>
</head>

<body>
    <h1>@2080code/watermark</h1>
    <h2>getDataURL</h2>
    <div>
        <textarea id="dataurl" readonly rows="5"></textarea>
    </div>

    <h2>draw</h2>
    <div class="picture">
        <img src="1.jpg" alt="">
    </div>
    <div class="picture">
        <img src="2.jpg" alt="">
    </div>
    
    <script src="../lib/watermark.min.js"></script>
    <script>
        const Watermarker=new WaterMark({
            mode:'cover',
            content:new Date().toLocaleString(),
            fontSize:'30px',
            opacity:0.25,
            padding:30,
            size:'40% auto',
            position:'top left',
            repeat:'no-repeat',
        })
        document.querySelectorAll('.picture').forEach((el,i)=>{
            console.log('el',el)
            if(i===0){
                Watermarker.draw({
                    carrierElem:el,
                    position:'bottom right',
                })
            }else{
                Watermarker.draw({
                    carrierElem:el,
                })
            }
        })

        document.getElementById('dataurl').value=Watermarker.getDataURL()

    </script>
</body>

</html>
